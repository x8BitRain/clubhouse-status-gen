import{d as e,i as t,C as s,a,p as l,b as o,c as n,w as i,v as r,e as u,f as p,F as c,r as d,g as m,h,j as w,o as b,t as j,k,l as f}from"./vendor.149403d9.js";e.extend(t);const y=(t,s,a)=>{const l=t[0].states.map((e=>[e.id,e.name]));console.log(s);return l.map((t=>({name:t[1],stories:s.filter((s=>s.workflow_state_id===t[0]&&e(s.updated_at).isBetween(e().subtract(a,"week"),e().add(1,"week"))))})))};var v=a({name:"Generator",props:{},data:()=>({apiKey:"",weeks:2,projects:null,stories:null,showEmojis:!1,showWait:!1}),methods:{async listProjects(){this.showWait=!0,this.projects=await(async e=>s.create(e).listProjects())(this.apiKey),this.showWait=!1},async getStories(e){this.showWait=!0,this.stories=await(async(e,t,a)=>{const l=s.create(e),o=await l.listWorkflows(),n=await l.listStories(t);return y(o,n,a)})(this.apiKey,e,this.weeks),this.showWait=!1},getEmoji(){if(!this.showEmojis)return;const e=["👨‍💻","👩‍💻","🧑‍💻"," 🛠","🔧","🚀","🦉"];return e[Math.floor(Math.random()*e.length)]}}});const g=h("data-v-322f081a");l("data-v-322f081a");const E=u("label",{for:"api-input"},"Clubhouse API Key",-1),W=u("br",null,null,-1),K=u("br",null,null,-1),P=u("label",{for:"weeks-input"},"Stories from how many weeks ago",-1),_=u("br",null,null,-1),C=u("br",null,null,-1),G=u("label",{for:"emojis"},"Random Emojis",-1),S=u("br",null,null,-1),x=u("br",null,null,-1),U=u("br",null,null,-1),V=u("br",null,null,-1),A={key:0},I=w(" Generate report for: "),M=u("br",null,null,-1),B=u("br",null,null,-1),F={key:1},R={key:2};o();const T=g(((e,t,s,a,l,o)=>(b(),n(c,null,[E,i(u("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.apiKey=t),id:"api-input",type:"text"},null,512),[[r,e.apiKey]]),W,K,P,i(u("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.weeks=t),id:"weeks-input",type:"number"},null,512),[[r,e.weeks]]),_,C,G,i(u("input",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.showEmojis=t),id:"emojis",type:"checkbox"},null,512),[[p,e.showEmojis]]),S,x,u("button",{onClick:t[4]||(t[4]=(...t)=>e.listProjects&&e.listProjects(...t))},"Get Teams"),U,V,e.projects?(b(),n("div",A,[I,(b(!0),n(c,null,d(e.projects,(t=>(b(),n("button",{onClick:s=>e.getStories(t.id)},j(t.name),9,["onClick"])))),256))])):m("",!0),M,B,e.showWait?(b(),n("h3",F,"Please wait...")):m("",!0),e.stories?(b(),n("div",R,[(b(!0),n(c,null,d(e.stories,(t=>(b(),n("div",null,[w(j(e.getEmoji())+" "+j(t.name)+" "+j(e.getEmoji())+" ",1),u("ul",null,[(b(!0),n(c,null,d(t.stories,(e=>(b(),n("li",null,[w(j(e.name)+" ",1),u("a",{href:e.app_url},"[ch"+j(e.id)+"]",9,["href"])])))),256))])])))),256))])):m("",!0)],64))));v.render=T,v.__scopeId="data-v-322f081a";var q=a({name:"App",components:{Generator:v}});q.render=function(e,t,s,a,l,o){const i=k("Generator");return b(),n(i)},f(q).mount("#app");
